# 项目版本修改记录

本文件用于全程维护项目的版本修改记录，记录每次重要变更、修复与验证步骤，确保团队成员可以追踪历史与定位问题。

## 维护规则

- 更新时机：完成一次可感知的变更（功能、样式、结构、配置、文档）后立即更新本文件。
- 记录内容：日期、变更类型（Feature/Fix/Style/Docs/Build）、简要描述、涉及文件、验证方式/预览地址（如有）。
- 书写格式：采用倒序时间排列，最近的变更在最上方。
- 文件路径：使用相对路径，便于快速定位。

## 记录模板

```
### YYYY-MM-DD
- [类型] 变更标题/简述
  - 涉及文件：
  - 说明/验证：
```

---

## 变更历史

### 2025-10-10
- [Fix/UX] 预处理创建流程补全：新增 Step 0“选择数据集”，统一从列表页与行内入口的流程顺序
  - 背景：点击“创建预处理任务”直接跳到“字段选择”，缺失数据集选择步骤，导致不同入口的流程不一致。
  - 变更点：
    - 新增 Step 0“选择数据集”，整体流程调整为 0 选择数据集 → 1 字段选择 → 2 规则配置 → 3 预览结果。
    - 引入 `selectedDatasetId` 状态并在进入“字段选择”后按所选数据集加载字段信息。
    - 从数据集行内入口打开时自动预选对应数据集，但仍停留在 Step 0 显示已选数据集，以保持流程一致性。
  - 涉及文件：
    - src/components/DataPreprocessing.tsx（新增步骤、状态与 Tabs；调整 useEffect 与加载逻辑；更新步骤指示器为四步）
    - src/components/DataManagement.tsx（列表页“创建预处理任务”不传 datasetId；行内预处理传入 datasetId）
  - 说明/验证：在 http://localhost:3000/ 打开“数据管理 -> 数据预处理”，点击“创建预处理任务”应首先显示“选择数据集”步骤；选择数据集并点击“下一步：字段选择”后再加载字段信息；从数据集行内入口也应先停留在“选择数据集”，但已预选目标数据集。

### 2025-10-10
- [Fix/UX] 修复数据管理模块中“数据预处理”入口点击后直接弹窗的问题，恢复为任务列表页面优先展示
  - 说明：切换到“数据预处理”子菜单时，先展示“预处理任务管理”列表与“创建预处理任务”按钮；仅在点击“创建预处理任务”或数据集行内的预处理操作时再打开预处理弹窗。
  - 涉及文件：
    - src/components/DataManagement.tsx（新增任务列表 UI、状态与操作；移除子菜单中直接渲染弹窗的逻辑）
  - 说明/验证：在本地预览 http://localhost:3000/ 打开“数据管理 -> 数据预处理”，应看到任务列表与信息提示条；点击“创建预处理任务”后弹出预处理对话框。

### 2025-10-10
- [Fix/Style] 调整“数据预处理”弹窗宽度与滚动以避免水平滚动条
  - 主要修改：将弹窗容器从 `max-w-7xl`/默认 `sm:max-w-lg` 改为 `sm:max-w-6xl max-w-6xl w-[95vw]`，并增加 `overflow-x-hidden` 与 `max-h-[90vh] overflow-y-auto`；同时让次级弹窗在小屏下 `w-[95vw]`，避免过窄导致内容挤压。
  - 涉及文件：
    - src/components/DataPreprocessing.tsx（更新 DialogContent 样式类名）
  - 说明/验证：在 http://localhost:3000/ 打开“数据管理 -> 数据预处理 -> 创建预处理任务”，弹窗应在桌面端宽屏达到 6xl（约 72rem）且不出现水平滚动，内容可在垂直方向滚动查看。

### 2025-10-10
- [Feature/UX] 在项目管理的“复制项目”弹窗中新增三项可选内容（复选框，默认全部勾选）：
  - 复制项目下的任务
  - 复制项目下的数据集
  - 复制项目成员
  - 若用户取消所有勾选，则仅复制项目基础信息（项目名称与描述）。
  - 涉及文件：
    - src/App.tsx（新增 Checkbox 组件引用与状态逻辑，更新对话框内容与确认逻辑）
  - 说明/验证：在本地预览 http://localhost:3000/ 中打开“项目管理 -> 复制项目”，确认三个复选框默认勾选、布局清晰，取消全部时仅复制基础信息。

### 2025-10-10
- [Style/Fix] 调整“任务对比预览”对话框的高度与滚动，避免内容超出页面后无法完整查看
  - 涉及文件：
    - src/App.tsx
    - src/components/TaskManagement.tsx
  - 主要修改：在 DialogContent 上增加 `max-h-[90vh]` 与 `overflow-y-auto`，确保内容在视口内可滚动查看。
  - 说明/验证：在本地预览中确认纵向可滚动、内容可完整查看。

- [Style/Responsive] 统一“任务对比预览”对话框宽度策略以适配大屏并避免横向滚动
  - 涉及文件：
    - src/App.tsx
    - src/components/TaskManagement.tsx
  - 主要修改：设置 `sm:max-w-6xl max-w-6xl w-[95vw]`，并隐藏横向滚动 `overflow-x-hidden`，保证大屏自适应、内容尽量在宽度内完整展示。
  - 说明/验证：在本地预览 http://localhost:3000/ 验证无水平滚动、宽度在大屏达到 `max-w-6xl`。

- [Build/Dev] 启动本地开发服务器以验证 UI 修改
  - 涉及文件：vite.config.ts（端口配置 3000）
  - 说明/验证：通过 `npm run dev` 启动 Vite 开发服务器，预览地址为 http://localhost:3000/。

- [Docs/Repo] 初始化 Git 仓库并配置远程
  - 说明：执行 `git init`；添加远程仓库 `origin` -> `https://github.com/luciowlx/learngit.git`；完成首次提交 `Initial commit`。

---

如需进一步自动化维护（例如在提交前检查是否更新此日志），可在后续增加提交规范或自动化脚本（例如使用 commitlint/linters 或自定义 Pre-Commit 钩子）。